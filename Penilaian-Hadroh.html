<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Penilaian Lomba Hadroh â€” SMA Negeri 1 Cluring 2025</title>
<style>
body { font-family: Arial, sans-serif; margin: 10px; line-height: 1.3; font-size: 12px; }
.header { text-align: center; margin-bottom: 10px; }
.header h1 { font-size: 18px; margin: 2px 0; }
.header h2 { font-size: 16px; margin: 2px 0; }
.header h3 { font-size: 14px; margin: 2px 0; font-weight: normal; }
.info p { margin: 2px 0; }
table { width: 100%; border-collapse: collapse; margin-bottom: 8px; font-size: 11px; }
th, td { border: 1px solid #000; padding: 4px; text-align: left; }
th { background-color: #f2f2f2; }
input.nilai { width: 40px; text-align: center; padding: 2px; font-size: 11px; }
input.jumlah { width: 60px; text-align: center; padding: 2px; font-weight: bold; font-size: 11px; }
input.total { width: 100px; text-align: center; padding: 4px; font-weight: bold; font-size: 12px; }
.download-btn { display: block; margin: 10px auto; padding: 6px 12px; font-size: 12px; font-weight: bold; background: #1e88e5; color: white; border: none; border-radius: 4px; cursor: pointer; }
.download-btn:hover { background: #1565c0; }
.section-title { font-weight: bold; margin: 6px 0 2px; font-size: 12px; }
</style>
</head>
<body>
<div id="penilaianContainer">
    <div class="header">
        <h1>FORMAT PENILAIAN DEWAN JURI</h1>
        <h2>LOMBA HADROH</h2>
        <h3>SMA Negeri 1 Cluring 2025</h3>
    </div>

    <div class="info">
        <p><strong>NOMOR PESERTA :</strong> <input type="text" id="nomorPeserta" size="25"></p>
        <p><strong>NAMA GROUP :</strong> <input type="text" id="namaGroup" size="25"></p>
    </div>

    <div class="section-title">BIDANG SYAIR (VOCAL DAN HADROH)</div>
    <table class="penilaian">
        <thead>
            <tr><th>NO</th><th>UNSUR YANG DINILAI</th><th>NILAI</th><th>JUMLAH</th></tr>
        </thead>
        <tbody>
            <tr><td>1</td><td>Kekompakan pembacaan syair</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>2</td><td>Kesesuaian nada hadroh dengan syair</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>3</td><td>Kelancaran pembacaan syair</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>4</td><td>Keindahan suara (vokal)</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>5</td><td>Adab & penampilan</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
        </tbody>
    </table>

    <div class="section-title">BIDANG MUSIKALISASI</div>
    <table class="penilaian">
        <thead>
            <tr><th>NO</th><th>UNSUR YANG DINILAI</th><th>NILAI</th><th>JUMLAH</th></tr>
        </thead>
        <tbody>
            <tr><td>1</td><td>Kekompakan (kerapian & keserasian)</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>2</td><td>Variasi lagu</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>3</td><td>Harmonisasi nada</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>4</td><td>Kesesuaian tempo dengan syair</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
        </tbody>
    </table>

    <div class="section-title">BIDANG PENAMPILAN (KESELURUHAN)</div>
    <table class="penilaian">
        <thead>
            <tr><th>NO</th><th>UNSUR YANG DINILAI</th><th>NILAI</th><th>JUMLAH</th></tr>
        </thead>
        <tbody>
            <tr><td>1</td><td>Keutuhan & kekompakan grup</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>2</td><td>Kreativitas & variasi</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>3</td><td>Performance (penguasaan panggung)</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
            <tr><td>4</td><td>Kerapian & keserasian busana</td><td><input type="number" class="nilai" min="0" max="100"></td><td><input type="number" class="jumlah" readonly></td></tr>
        </tbody>
    </table>

    <div class="total">
        TOTAL NILAI : <input type="number" class="total" readonly>
    </div>

    <button class="download-btn" id="downloadBtn">Print / Download PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script>
const tables = document.querySelectorAll('.penilaian');
const totalInput = document.querySelector('.total');

tables.forEach(table => {
    const rows = table.querySelectorAll('tbody tr');
    rows.forEach(row => {
        const nilaiInput = row.querySelector('.nilai');
        const jumlahInput = row.querySelector('.jumlah');
        if(nilaiInput && jumlahInput){
            nilaiInput.addEventListener('input', () => {
                const value = parseFloat(nilaiInput.value) || 0;
                jumlahInput.value = value;
                updateTotal();
            });
        }
    });
});

function updateTotal(){
    let total = 0;
    document.querySelectorAll('.jumlah').forEach(input => {
        total += parseFloat(input.value) || 0;
    });
    totalInput.value = total;
}

document.getElementById('downloadBtn').addEventListener('click', () => {
    const element = document.getElementById('penilaianContainer');
    const opt = {
        margin: 0.2, 
        filename: `Penilaian_${document.getElementById('namaGroup').value.replace(/\s+/g,'_') || 'Group'}.pdf`,
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
    };
    html2pdf().set(opt).from(element).save();
});
</script>
</body>
</html>
